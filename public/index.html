<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Pointify</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="glass">
    <header>
        <h1>Let's Pointify!</h1>
        <button id="logoutBtn" style="display: none">Logout</button>
    </header>

    <section id="preLogin">
        <p>
            <label for="nameInput">Name: </label>
            <input type="text" id="nameInput"/>
        </p>
        <p>
            <input type="checkbox" id="isAdminInput"/>
            <label for="isAdminInput">I'm Admin</label>
        </p>
        <p id="teamIdField">
            <label for="teamIdInput">Team ID: </label>
            <input type="text" id="teamIdInput"/>
        </p>
        <p>
            <button id="submitBtn">Join</button>
        </p>
    </section>

    <section>
        <p id="adminInfo" style="display: none"></p>
    </section>

    <section id="usersContainer" style="display: none">
        <h2>Team Members</h2>
        <ul id="users" aria-live="polite"></ul>
    </section>

    <section id="estimationForm" style="display: none">
        <h2>New Story</h2>
        <p>
            <label for="storyTitleInput">Enter the title of new story:</label>
        </p>
        <p>
            <input type="text" id="storyTitleInput" placeholder="Enter your story title">
        </p>
        <p>
            <button id="startEstimationBtn">Start Estimation</button>
        </p>
    </section>

    <section id="estimationContainer" style="display: none">
        <h2>Estimation</h2>
        <p><b>Estimating:</b></p>
        <p id="currentStoryTitle"></p>

        <p><b>Your vote:</b></p>
        <div id="voteButtons" class="vote-buttons">
            <button id="voteBtn1" onclick="sendVote(1)">1</button>
            <button id="voteBtn2" onclick="sendVote(2)">2</button>
            <button id="voteBtn3" onclick="sendVote(3)">3</button>
            <button id="voteBtn5" onclick="sendVote(5)">5</button>
            <button id="voteBtn8" onclick="sendVote(8)">8</button>
            <button id="voteBtn13" onclick="sendVote(13)">13</button>
            <button id="voteBtn21" onclick="sendVote(21)">21</button>
            <button id="voteBtnnull" onclick="sendVote(null)">?</button>
        </div>

        <p id="finishEstimationContainer">
            <button id="finishEstimationBtn">Finish Estimation</button>
        </p>

        <p><b>Voting status:</b></p>
        <ul id="votes" aria-live="polite"></ul>
    </section>

    <section id="estimatedContainer" style="display: none">
        <h2>Estimated Stories</h2>
        <div id="estimatedStories"></div>
    </section>

    <footer>
        <a href="javascript:void(0)"
           onclick="showPopup('We use session cookies to keep you logged in while you navigate our website. These cookies are strictly necessary for the website to function and do not track you for analytics or advertising purposes.');"
           class="footer-link">
            Cookie Policy
        </a>
        |
        <a href="https://github.com/ankitkumofficial/pointify.git" target="_blank" rel="noopener noreferrer"
           class="footer-link">
            GitHub
        </a>
    </footer>
</div>

<div class="popup-overlay" id="popupOverlay">
    <div class="popup">
        <p id="popupMessage"></p>
        <div id="popupButtons">
            <button id="closePopupBtn">Close</button>
            <button id="yesPopupBtn">Yes</button>
            <button id="noPopupBtn">No</button>
        </div>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="app.js" type="module"></script>
</body>
</html>
